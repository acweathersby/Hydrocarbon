

<> S > B

<> B >  R(+ \, ) f:r{ { type:"S", d:$1} }

<> R >
        \S E \E f:r{ { type:"E", d:$2}  } 
    |   \S F \F f:r{ { type:"F", d:$2}  } 
        

<> E > \a \b

f:r{  $1 + $2   } 

| \a E \b

f:r{  $1 + $2  + $3 } 

<> F > \a \b \b 

f:r{ "<" + $1 + $2  + $3 + ">" } 

| \a F \b \b

f:r{  $1 + $2 + "|"  + $3 + $4 } 