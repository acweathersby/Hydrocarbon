@IGNORE g:sp

<> start > E

<> E > 
        E  ( + | - ) B
                        f:r { "(" + $1 + $2 + $3 + ")" }
    |   B

<> B >
        B  ( * | / ) B 
                        f:r { "(" + $1 + $2 + $3 + ")" }
    |   \( E \)
                        f:r { "(" + $1 + ")" }

    |   ( t:one | t:two | t:three )            
                        f:r { ["one", "two", "three"].indexOf($1) +1 }